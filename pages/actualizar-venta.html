<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
    <link rel="stylesheet" href="/assets/styles.css">
    <title>Actualizar Venta</title>
</head>
<body class="login-bg min-h-screen relative">
    <div class="absolute inset-0 bg-white/70"></div>

    <div class="relative z-10 min-h-screen bg-[#F7F7F7]/50">
      <header
        class="flex items-center justify-between p-4 bg-white border-b border-gray-200 shadow-lg"
      >
        <img src="/assets/logo-black.svg" class="px-6 py-2 w-50" />

        <h1 class="text-xl font-semibold text-[#1d1d1b]">Actualizaci贸n de Venta</h1>

        <button
          id="btnLogout"
          class="bg-[#4A4A4A] text-white font-medium px-4 py-2 rounded transition duration-200 ease-in-out border border-transparent hover:bg-white hover:text-[#4A4A4A] hover:border-[#4A4A4A]"
        >
          Cerrar sesi贸n
        </button>
      </header>

      <form id="ventaForm">
        <main class="p-8 max-w-screen-xl mx-auto">
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-10 mb-12">
            <div class="lg:col-span-2 space-y-10">
              <div class="bg-[#F7F7F7] p-6 rounded shadow-xl">
                <h2
                  class="text-xl font-semibold text-[#1d1d1b] border-b pb-2 mb-6"
                >
                  Datos de Venta
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="canalVenta"
                      >Canal</label
                    >
                    <select
                      id="canalVenta"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    ></select>
                  </div>
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="tipoVenta"
                      >Tipo</label
                    >
                    <select
                      id="tipoVenta"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    ></select>
                  </div>
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="medioPago"
                      >Medio de pago</label
                    >
                    <select
                      id="medioPago"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    ></select>
                  </div>
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="tipoEntrega"
                      >Tipo de entrega</label
                    >
                    <select
                      id="tipoEntrega"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    ></select>
                  </div>
                  <div class="flex flex-col md:col-span-2">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="comentario"
                      >Comentario</label
                    >
                    <textarea
                      id="comentario"
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base resize-none h-20"
                    ></textarea>
                  </div>
                </div>
              </div>

              <div class="bg-[#F7F7F7] p-6 rounded shadow-xl">
                <h2
                  class="text-xl font-semibold text-[#1d1d1b] border-b pb-2 mb-6"
                >
                  Datos Cliente
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="clienteNombre"
                      >Nombre</label
                    >
                    <input
                      type="text"
                      id="clienteNombre"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    />
                  </div>
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="clienteDNI"
                      >DNI</label
                    >
                    <input
                      type="text"
                      id="clienteDNI"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    />
                  </div>
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="clienteDireccion"
                      >Direcci贸n</label
                    >
                    <input
                      type="text"
                      id="clienteDireccion"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    />
                  </div>
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="clienteDistrito"
                      >Distrito</label
                    >
                    <input
                      type="text"
                      id="clienteDistrito"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    />
                  </div>
                  <div class="flex flex-col">
                    <label
                      class="text-sm text-gray-700 font-semibold mb-1"
                      for="clienteProvincia"
                      >Provincia</label
                    >
                    <input
                      type="text"
                      id="clienteProvincia"
                      required
                      class="w-full bg-white border border-gray-400 text-[#4A4A4A] px-3 py-2 rounded text-base"
                    />
                  </div>
                </div>
              </div>
            </div>

            <div
              id="productoForm"
              class="bg-white p-6 rounded shadow-xl border-2 border-gray-400"
            >
              <h2
                class="text-xl font-semibold text-[#1d1d1b] mb-6 border-b pb-2"
              >
                Actualizaci贸n de productos
              </h2>
              <div class="space-y-4">
                <div class="flex flex-col">
                  <label
                    class="text-sm text-gray-700 font-semibold mb-1"
                    for="productoId"
                    >Id</label
                  >
                  <input
                    type="text"
                    id="productoId"
                    disabled
                    class="w-full border border-gray-400 bg-gray-100 text-[#4A4A4A] px-3 py-2 rounded text-base cursor-not-allowed"
                  />
                </div>
                <div class="flex flex-col">
                  <label
                    class="text-sm text-gray-700 font-semibold mb-1"
                    for="productoSelect"
                    >Producto</label
                  >
                  <select
                    id="productoSelect"
                    disabled                    
                    class="w-full border border-gray-400 bg-white text-[#4A4A4A] px-3 py-2 rounded text-base"
                  >
                    <option value="" disabled selected>
                      Cargando inventario...
                    </option>
                  </select>
                </div>
                <div class="flex flex-col">
                  <label
                    class="text-sm text-gray-700 font-semibold mb-1"
                    for="productoCantidad"
                    >Cantidad</label
                  >
                  <input
                    type="number"
                    id="productoCantidad"
                    min="1"
                    value="1"
                    required
                    class="w-full border border-gray-400 bg-white text-[#4A4A4A] px-3 py-2 rounded text-base"
                  />
                </div>
                <div class="flex flex-col">
                  <label
                    class="text-sm text-gray-700 font-semibold mb-1"
                    for="productoPrecio"
                    >Precio (Unitario)</label
                  >
                  <input
                    type="number"
                    id="productoPrecio"
                    min="0"
                    step="0.01"
                    disabled
                    class="w-full border border-gray-400 bg-gray-100 text-[#4A4A4A] px-3 py-2 rounded text-base cursor-not-allowed"
                  />
                </div>
              </div>
              <div class="flex justify-center mt-8">
                <button
                  type="button"
                  id="btnActualizarProducto"
                  class="bg-red-500 text-white px-6 py-2 rounded shadow hover:bg-red-600 transition duration-150 ease-in-out"
                >
                  Actualizar Producto
                </button>
              </div>
            </div>
          </div>

          <h2 class="text-xl font-bold text-[#1d1d1b] border-b pb-2 mb-6">
            Detalles de Productos
          </h2>
          <div
            class="overflow-x-auto bg-white border border-gray-300 shadow-xl rounded mb-10"
          >
            <table class="min-w-full divide-y divide-gray-200">
              <thead>
                <tr>
                  <th
                    class="bg-[#808080] text-white text-xs font-semibold uppercase tracking-wider px-4 py-3 border-r border-white/30"
                  >
                    Id
                  </th>
                  <th
                    class="bg-[#808080] text-white text-xs font-semibold uppercase tracking-wider px-4 py-3 border-r border-white/30"
                  >
                    Producto
                  </th>
                  <th
                    class="bg-[#808080] text-white text-xs font-semibold uppercase tracking-wider px-4 py-3 border-r border-white/30"
                  >
                    Cantidad
                  </th>
                  <th
                    class="bg-[#808080] text-white text-xs font-semibold uppercase tracking-wider px-4 py-3 border-r border-white/30"
                  >
                    Precio Unitario
                  </th>
                  <th
                    class="bg-[#808080] text-white text-xs font-semibold uppercase tracking-wider px-4 py-3 border-r border-white/30"
                  >
                    Precio Total
                  </th>
                  <th
                    class="bg-[#808080] text-white text-xs font-semibold uppercase tracking-wider px-4 py-3"
                  >
                    Acciones
                  </th>
                </tr>
              </thead>
              <tbody
                id="detalleVentaBody"
                class="divide-y divide-gray-200"
              ></tbody>
              <tfoot>
                <tr>
                  <td
                    colspan="4"
                    class="px-4 py-3 text-right text-base font-bold bg-gray-100"
                  >
                    SUBTOTAL:
                  </td>
                  <td
                    id="subtotalVenta"
                    class="px-4 py-3 text-base font-bold bg-gray-100"
                  >
                    S/. 0.00
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>

          <div class="flex justify-end gap-10">
            <button
              type="button"
              id="btnRegresar"
              class="bg-[#4A4A4A] text-white font-normal px-4 py-2 rounded transition duration-200 ease-in-out border border-transparent hover:bg-white hover:text-[#4A4A4A] hover:border-[#4A4A4A]"
            >
              Regresar a Detalle de Venta
            </button>
            <button
              type="submit"
              id="btnActualizarVenta"
              class="bg-red-600 text-white px-6 py-2 rounded shadow-lg hover:bg-red-700 transition duration-150 ease-in-out"
            >
              Actualizar Venta
            </button>
          </div>
        </main>
      </form>
    </div>
    <script type="module" src="/app/utils.js"></script>
    <script type="module" src="/app/actualizarVenta.js"></script>
  </body>
</html>
